function updateTotalPrice() {
    var total = 0;

    var selectedItems = document.querySelectorAll('.product-checkbox:checked');

    selectedItems.forEach(function (checkbox) {
        var row = checkbox.closest('tr');
        var price = parseFloat(row.querySelector('.quantity').getAttribute('data-price'));
        var quantity = parseInt(row.querySelector('.quantity').value);
        var totalPrice = price * quantity;
        var totalCell = row.querySelector('.total-price');
        totalCell.textContent = totalPrice.toLocaleString('vi-VN') + '₫';
        total += totalPrice;
    });

    document.getElementById('totalAmount').textContent = total.toLocaleString('vi-VN') + '₫';
}

document.addEventListener('DOMContentLoaded', function () {
    var quantityInputs = document.querySelectorAll('.quantity');
    quantityInputs.forEach(function (input) {
        input.addEventListener('input', updateTotalPrice);
    });

    var checkboxes = document.querySelectorAll('.product-checkbox');
    checkboxes.forEach(function (checkbox) {
        checkbox.addEventListener('change', updateTotalPrice);
    });

    updateTotalPrice();
});
// Lắng nghe sự kiện thay đổi của checkbox 'Chọn tất cả'
document.getElementById('selectAll').addEventListener('change', function () {
    var checkboxes = document.querySelectorAll('.product-checkbox');
    checkboxes.forEach(function (checkbox) {
        checkbox.checked = document.getElementById('selectAll').checked;
    });
    updateTotalPrice();
});

